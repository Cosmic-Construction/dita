<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Git\dita\specification\temp\pdf\archSpec\base?><?workdir-uri file:/C:/Git/dita/specification/temp/pdf/archSpec/base/?><?path2project ..\..\?><?path2project-uri ../../?><?path2rootmap-uri ../../?><?doctype-public -//OASIS//DTD DITA Concept//EN?><?doctype-system concept.dtd?><concept xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" class="- topic/topic concept/concept " ditaarch:DITAArchVersion="1.3" domains="(topic concept) (topic abbrev-d) a(props deliveryTarget) (topic equation-d) (topic hazard-d) (topic hi-d) (topic indexing-d) (topic markup-d) (topic mathml-d) (topic pr-d) (topic relmgmt-d) (topic sw-d) (topic svg-d) (topic ui-d) (topic ut-d) (topic markup-d xml-d)" id="branch-filtering-implications-of-processing-order" xml:lang="en-us" xtrc="concept:1;3:82" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">
 <title class="- topic/title " xtrc="title:1;4:9" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">Branch filtering: Implications of processing order</title>
 <shortdesc class="- topic/shortdesc " xtrc="shortdesc:1;5:13" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">Because the branch filtering process can result in new or renamed keys, key scopes, or
    URIs, the full effects of the branch filtering process <term class="- topic/term " outputclass="RFC-2119" xtrc="term:1;7:8" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">MUST</term> be calculated by processors before they construct the effective
    map and key scope structure.</shortdesc><prolog class="- topic/prolog "><author class="- topic/author " xtrc="author:1;14:11" xtrf="file:/C:/Git/dita/specification/dita-2.0-specification.ditamap">OASIS DITA Technical Committee</author></prolog>
 <conbody class="- topic/body  concept/conbody " xtrc="conbody:1;9:11" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">
    <note class="- topic/note " xtrc="note:1;10:11" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">The <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrc="xmlatt:1;10:23" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">keyref</xmlatt> attribute and related attributes are explicitly disallowed on
        <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:1;11:21" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement>. This prevents any confusion resulting from a
        <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrc="xmlatt:2;12:17" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">keyref</xmlatt> that resolves to additional key- or resource-renaming
      metadata.</note>
  <p class="- topic/p " xtrc="p:1;14:6" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">In general, the DITA specification refrains from mandating a processing order; thus publication
      results can vary slightly depending on the order in which processes are run. With branch
      filtering, processors are not required to apply filter conditions specified outside of the map
      and filter conditions specified with <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:2;17:56" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement> at the same time in a
      publishing process.</p>
  <p class="- topic/p " xtrc="p:2;19:7" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">For example, a processor might use the following processing order:</p>
    <ol class="- topic/ol " xtrc="ol:1;20:9" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">
      <li class="- topic/li " xtrc="li:1;21:11" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">Apply externally-specified filter conditions to maps</li>
      <li class="- topic/li " xtrc="li:2;22:11" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">Apply filtering  based on <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:3;22:49" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement> elements</li>
    </ol>
    <p class="- topic/p " xtrc="p:3;24:9" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">Because externally-specified "exclude" conditions always take precedence over
      branch-specific conditions, content excluded based on external conditions will always be
      removed, regardless of the order in which processors evaluate conditions.</p>
  <p class="- topic/p " xtrc="p:4;27:6" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">Processors should consider the following points when determining a processing order:</p>
    <ul class="- topic/ul " xtrc="ul:1;28:9" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">
      <li class="- topic/li " xtrc="li:3;29:11" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">If links are generated based on the map hierarchy, those links should be created using the
        renamed keys and URIs that result from evaluating the <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:4;30:75" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement>
        filter conditions, to ensure that the links are consistent within the modified branches. For
        example, sequential links based on a map hierarchy should remain within the appropriate
        modified branch.</li>
      <li class="- topic/li " xtrc="li:4;34:11" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">If conrefs are resolved in topics before the <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:5;34:68" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement> filtering
        conditions are evaluated, content that applies to multiple audiences can be brought in and
        (later in the process) selectively filtered by branch. For example, if a set of installation
        steps is pulled in with conref (from outside the branch), it might contain information that
        is later filtered by platform based on <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:6;38:60" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement>. This results in
        copies of the steps that are specific to each operating system. If conref is processed after
        the <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:7;40:25" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement>, content might be pulled in that has not been
        appropriately filtered for the new context.</li>
      <li class="- topic/li " xtrc="li:5;42:11" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">The same scenario applies to conref values that push content into the branch.<ul class="- topic/ul " xtrc="ul:2;42:92" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">
          <li class="- topic/li " xtrc="li:6;43:15" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">Pushing content into a branch before resolving the <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:8;43:78" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement>
            conditions allows content for multiple conditions to be pushed and then filtered by
            branch based on the <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:9;45:45" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement> conditions.</li>
          <li class="- topic/li " xtrc="li:7;46:15" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">If the branch using <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:10;46:47" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement> pushes content elsewhere,
            resolving <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrc="xmlelement:11;47:35" xtrf="file:/C:/Git/dita/specification/archSpec/base/branch-filtering-implications-of-processing-order.dita">ditavalref</xmlelement> first could result in multiple copies of
            the content to be pushed (one for each branch), resulting in multiple potentially
            conflicting copies pushed to the new destination.</li>
        </ul>
      </li>
    </ul>
 </conbody>
</concept>